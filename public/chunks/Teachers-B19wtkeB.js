import{j as e}from"./charts-DKfjp_jL.js";import{b as Ee,f as Re,r as a}from"./vendor-TW9MlCSK.js";import{C as u}from"./Card-C4Q3ti6h.js";import{S as $e,T as ze}from"./Table-DrvbkGT8.js";import{g as _e,c as Be,Z as Fe,a3 as He,_ as z,S as Oe,X as Ye,P as Ue,a1 as Ge,a2 as Ve,b as qe,I as We,O as Xe,T as Ze}from"./ui-ED0KsU3n.js";import{u as Je,a as Ke,A as Qe,C as es}from"../assets/index-6lcfEfYb.js";import{a as V}from"./cascade-deletion-BvHa4iZT.js";import"./utils-x1PSU_OZ.js";import"./query-Bv1r7ykf.js";const ss=({teacher:r,showStudentCount:x=!0,showSchedule:b=!1,showContact:p=!1,onClick:g,className:f=""})=>{const d=i=>i.split(" ").map(m=>m[0]).join("").slice(0,2),I=i=>({מורה:"bg-blue-100 text-blue-800",מנצח:"bg-purple-100 text-purple-800","מדריך הרכב":"bg-green-100 text-green-800",מנהל:"bg-red-100 text-red-800","מורה תאוריה":"bg-yellow-100 text-yellow-800",מגמה:"bg-indigo-100 text-indigo-800"})[i]||"bg-gray-100 text-gray-800",N=()=>{const i=["מנהל","מנצח","מדריך הרכב","מורה תאוריה","מגמה","מורה"],m=r.roles||[];return m.find(j=>i.includes(j))||m[0]||"מורה"},A=i=>({מורה:"bg-blue-500",מנצח:"bg-purple-500","מדריך הרכב":"bg-green-500",מנהל:"bg-red-500","מורה תאוריה":"bg-yellow-500",מגמה:"bg-indigo-500"})[i]||"bg-blue-500",k=()=>{if(!r.teaching?.schedule)return{lessons:0,hours:0};const i=r.teaching.schedule.reduce((m,j)=>m+j.duration,0);return{lessons:r.teaching.schedule.length,hours:Math.round(i/60*10)/10}},L=N(),w=r.teaching?.studentIds?.length||0,y=k();return e.jsx(u,{className:`transition-all duration-200 hover:shadow-md ${g?"cursor-pointer hover:shadow-lg":""} ${f}`,onClick:g,padding:"md",children:e.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse",children:[e.jsx("div",{className:`
          w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold text-sm
          ${A(L)}
        `,children:d(r.personalInfo.fullName)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:r.personalInfo.fullName}),e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${r.isActive?"bg-green-400":"bg-gray-300"}`}),!r.professionalInfo?.isActive&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"לא פעיל מקצועית"})]})]}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(r.roles||[]).map((i,m)=>e.jsx("span",{className:`
                    inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium
                    ${I(i)}
                  `,children:i},m))})}),r.professionalInfo?.instrument&&e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"התמחות:"}),e.jsx("span",{className:"font-medium text-gray-900",children:r.professionalInfo.instrument})]})}),x&&e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-sm text-gray-600",children:[e.jsx(_e,{className:"w-4 h-4"}),e.jsxs("span",{children:[w," ",w===1?"תלמיד":"תלמידים"]})]})}),b&&y.lessons>0&&e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-sm text-gray-600",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsxs("span",{children:[y.lessons," שיעורים (",y.hours," שעות בשבוע)"]})]})}),p&&e.jsxs("div",{className:"border-t border-gray-100 pt-3 mt-3 space-y-2",children:[r.personalInfo.phone&&e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-sm",children:[e.jsx(Fe,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-gray-700 font-mono",dir:"ltr",children:r.personalInfo.phone})]}),r.personalInfo.email&&e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-sm",children:[e.jsx(He,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-gray-700 font-mono",dir:"ltr",children:r.personalInfo.email})]})]}),e.jsx("div",{className:"border-t border-gray-100 pt-2 mt-2",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:r.isActive?"פעיל במערכת":"לא פעיל במערכת"}),r.professionalInfo?.isActive&&e.jsx("span",{className:"text-green-600",children:"פעיל מקצועית"})]})})]})]})})},ts=ss,re=r=>{if(!r)return!1;const x=r?.roles?.includes("מנהל"),b=r?.roles?.includes("admin"),p=r?.role==="admin",g=r?.role==="מנהל";return x||b||p||g};function gs(){const r=Ee(),[x,b]=Re(),{user:p}=Je(),{currentSchoolYear:g,isLoading:f}=Ke(),[d,I]=a.useState([]),[N,A]=a.useState(!0),[k,L]=a.useState(!1),[w,y]=a.useState(null),[i,m]=a.useState(x.get("search")||""),[j,ne]=a.useState(x.get("search")||""),[o,M]=a.useState({instrument:x.get("instrument")||"",role:x.get("role")||""}),[le,q]=a.useState(1),[_,B]=a.useState(!0),[W,X]=a.useState(!1),[ie,oe]=a.useState(!0),[Z,J]=a.useState(0),ce=20,[K,de]=a.useState(null),[D,me]=a.useState(null),[xe,as]=a.useState(!1),[P,F]=a.useState(x.get("instrument")||""),[he,T]=a.useState(!1),[h,Q]=a.useState(x.get("view")||"table"),[ue,H]=a.useState(!1),[ge,O]=a.useState(null),[pe,Y]=a.useState("add"),[fe,E]=a.useState(!1),[R,$]=a.useState(null);a.useEffect(()=>{const s=setTimeout(()=>{ne(i)},500);return()=>clearTimeout(s)},[i]),a.useEffect(()=>{const s=new URLSearchParams;i&&s.set("search",i),o.instrument&&s.set("instrument",o.instrument),o.role&&s.set("role",o.role),h!=="table"&&s.set("view",h);const t=s.toString(),l=x.toString();t!==l&&b(s,{replace:!0})},[i,o.instrument,o.role,h]),a.useEffect(()=>{f||v(1,!1)},[g,f]);const v=async(s=1,t=!1)=>{try{t?X(!0):(ie?A(!0):L(!0),q(1),B(!0)),y(null),console.log("Loading teachers for page:",s);const l={...g?{schoolYearId:g._id}:{},...j?{name:j}:{},...o.instrument?{instrument:o.instrument}:{},...o.role?{role:o.role}:{},page:s,limit:ce},c=await V.teachers.getTeachers(l);let G,Pe=null;c.data&&c.pagination?(G=c.data,Pe=c.pagination,B(c.pagination.hasNextPage),J(c.pagination.totalCount),console.log("Loaded teachers page",s,":",c.data.length,"/",c.pagination.totalCount)):(G=c,B(!1),J(c.length),console.log("Loaded all teachers:",c.length));const ae=G.filter(n=>n._id!==p?._id).map(n=>({id:n._id,name:n.personalInfo?.fullName||"לא צוין",specialization:n.professionalInfo?.instrument||"לא צוין",roles:n.allRoles||n.roles||[],primaryRole:n.primaryRole||"לא מוגדר",studentCount:n.studentCount||0,email:n.personalInfo?.email||"",phone:n.personalInfo?.phone||"",isActive:n.isTeacherActive,hasTimeBlocks:n.hasTimeBlocks||!1,timeBlockCount:n.timeBlockCount||0,orchestraCount:n.orchestraCount||0,ensembleCount:n.ensembleCount||0,availabilityDays:n.availabilityDays||[],totalTeachingHours:Math.round(n.totalTeachingHours/60*10)/10||0,rawData:n,rolesDisplay:n.allRoles?.length>0?n.allRoles.join(", "):"לא מוגדר",status:e.jsx($e,{status:n.isTeacherActive?"active":"inactive",children:n.isTeacherActive?"פעיל":"לא פעיל"})}));I(t?n=>[...n,...ae]:ae)}catch(l){console.error("Error loading teachers:",l),y(l.message)}finally{A(!1),L(!1),X(!1),oe(!1)}},je=()=>{de(null),me(null)},U=s=>{const t=`/teachers/${s}`;try{r(t)}catch{window.location.href=t}},ye=async s=>{try{const t=await V.teachers.getTeacher(s);O(t),Y("edit"),H(!0)}catch(t){console.error("Error loading teacher for edit:",t),alert("שגיאה בטעינת נתוני המורה")}},ve=s=>{const t=d.find(l=>l.id===s);t&&($(t),E(!0))},be=async()=>{if(R)try{await V.teachers.deleteTeacher(R.id),v(1,!1),E(!1),$(null)}catch(s){console.error("Error deleting teacher:",s),alert("שגיאה במחיקת המורה: "+(s.message||"אירעה שגיאה")),E(!1),$(null)}},Ne=()=>{E(!1),$(null)},we=()=>{re(p)?(O(null),Y("add"),H(!0)):alert("רק מנהלים יכולים להוסיף מורים")},Te=s=>{f||v(1,!1)},Se=async()=>{const s=le+1;q(s),await v(s,!0)};a.useEffect(()=>{f||v(1,!1)},[j,o.instrument,o.role]);const ee=["כינור","ויולה","צ'לו","קונטרבס","גיטרה","גיטרה בס","חלילית","חליל צד","אבוב","בסון","סקסופון","קלרינט","חצוצרה","קרן יער","טרומבון","טובה/בריטון","פסנתר","תופים","שירה"].filter(s=>s.toLowerCase().includes(P.toLowerCase())),se=(s,t)=>{M(l=>({...l,instrument:s})),F(t),T(!1)},Ce=s=>{F(s),T(!0),s===""&&M(t=>({...t,instrument:""}))},S=a.useMemo(()=>d.filter(s=>{if(!o.instrument)return!0;const t=(s.specialization||"").toLowerCase().trim(),l=o.instrument.toLowerCase().trim();return t===l||t.includes(l)||l.includes(t)}),[d,o.instrument]),C=Z>0?Z:d.length,Ie=d.filter(s=>s.isActive).length,te=d.reduce((s,t)=>s+t.studentCount,0),Ae=C>0?(te/C).toFixed(1):0,ke=d.filter(s=>s.hasTimeBlocks).length,Le=d.reduce((s,t)=>s+t.totalTeachingHours,0);d.filter(s=>s.orchestraCount>0).length;const Me=[{key:"name",header:"שם המורה"},{key:"specialization",header:"התמחות"},{key:"rolesDisplay",header:"תפקידים"},{key:"studentCount",header:"מס' תלמידים",align:"center"},{key:"status",header:"סטטוס",align:"center"},{key:"actions",header:"פעולות",align:"center",width:"100px",render:s=>e.jsxs("div",{className:"flex space-x-2 space-x-reverse justify-center",children:[e.jsx("button",{className:"p-1.5 text-primary-600 hover:text-primary-900 hover:bg-primary-100 rounded transition-colors",onClick:t=>{t.stopPropagation(),U(s.id)},title:"צפה בפרטי המורה",children:e.jsx(We,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors",onClick:t=>{t.stopPropagation(),ye(s.id)},title:"ערוך פרטי המורה",children:e.jsx(Xe,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 text-red-600 hover:text-red-900 hover:bg-red-100 rounded transition-colors",onClick:t=>{t.stopPropagation(),ve(s.id)},title:"מחק מורה",children:e.jsx(Ze,{className:"w-4 h-4"})})]})}],De=()=>{if(!K||!D)return null;const s=["ראשון","שני","שלישי","רביעי","חמישי","שישי"];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",style:{position:"fixed !important",top:"0 !important",left:"0 !important",right:"0 !important",bottom:"0 !important",display:"flex !important",alignItems:"center !important",justifyContent:"center !important",zIndex:9999},children:e.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["לוח זמנים - ",K.name]}),e.jsx("button",{onClick:je,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),xe?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(z,{className:"w-8 h-8 animate-spin text-primary-600"}),e.jsx("span",{className:"mr-3 text-gray-600",children:"טוען לוח זמנים..."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(t=>e.jsxs(u,{padding:"md",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:t}),e.jsx("div",{className:"space-y-3",children:D[t]&&D[t].length>0?D[t].map((l,c)=>e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 mb-1",children:[l.time,"-",l.endTime]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[l.studentName," | ",l.instrument," | שלב ",l.currentStage]}),l.location&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["מיקום: ",l.location]})]},l.lessonId||c)):e.jsxs("div",{className:"text-center text-gray-500 py-6",children:["אין שיעורים ביום ",t]})})]},t))})]})})})};return N?e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(z,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary-600"}),e.jsx("div",{className:"text-lg text-gray-600",children:"טוען מורים..."})]})}):w?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-600 text-lg mb-4",children:"❌ שגיאה בטעינת הנתונים"}),e.jsx("div",{className:"text-gray-600 mb-6",children:w}),e.jsx("button",{onClick:()=>v(1,!1),className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600",children:"נסה שוב"})]}):e.jsxs("div",{children:[De(),e.jsx(u,{className:"mb-6",padding:"md",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"חיפוש מורים...",value:i,onChange:s=>m(s.target.value),className:"w-full pr-10 pl-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 placeholder-gray-500"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"חפש כלי נגינה...",value:P,onChange:s=>Ce(s.target.value),onFocus:()=>T(!0),onBlur:()=>{setTimeout(()=>T(!1),200)},className:"w-48 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-gray-900 placeholder-gray-500"}),P&&e.jsx("button",{onClick:()=>{F(""),M(s=>({...s,instrument:""})),T(!1)},className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Ye,{className:"w-4 h-4"})}),he&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto z-50 direction-rtl",children:[e.jsx("button",{onClick:()=>se("","כל הכלים"),className:`w-full text-right px-3 py-2 hover:bg-gray-50 border-b border-gray-100 direction-rtl ${o.instrument===""?"bg-primary-50 text-primary-600":"text-gray-900"}`,children:"כל הכלים"}),ee.map(s=>e.jsx("button",{onClick:()=>se(s,s),className:`w-full text-right px-3 py-2 hover:bg-gray-50 direction-rtl ${o.instrument===s?"bg-primary-50 text-primary-600":"text-gray-900"}`,children:s},s)),ee.length===0&&P&&e.jsx("div",{className:"px-3 py-2 text-gray-500 text-center",children:"לא נמצאו כלים"})]})]}),e.jsxs("select",{value:o.role,onChange:s=>M(t=>({...t,role:s.target.value})),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-gray-900",children:[e.jsx("option",{value:"",children:"כל התפקידים"}),e.jsx("option",{value:"מורה",children:"מורה"}),e.jsx("option",{value:"מנצח",children:"מנצח"}),e.jsx("option",{value:"מדריך הרכב",children:"מדריך הרכב"}),e.jsx("option",{value:"מנהל",children:"מנהל"}),e.jsx("option",{value:"מורה תאוריה",children:"מורה תאוריה"}),e.jsx("option",{value:"מגמה",children:"מגמה"})]}),re(p)&&e.jsxs("button",{onClick:we,className:"flex items-center px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",title:"Add Teacher",children:[e.jsx(Ue,{className:"w-4 h-4 ml-2"}),"הוסף מורה"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[e.jsx(u,{padding:"md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-600 mb-1",children:C}),e.jsx("div",{className:"text-xs text-gray-600",children:"סה״כ מורים"})]})}),e.jsx(u,{padding:"md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-success-600 mb-1",children:Ie}),e.jsx("div",{className:"text-xs text-gray-600",children:"פעילים"})]})}),e.jsx(u,{padding:"md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:te}),e.jsx("div",{className:"text-xs text-gray-600",children:"סה״כ תלמידים"})]})}),e.jsx(u,{padding:"md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:Ae}),e.jsx("div",{className:"text-xs text-gray-600",children:"ממוצע תלמידים"})]})}),e.jsx(u,{padding:"md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:ke}),e.jsx("div",{className:"text-xs text-gray-600",children:"עם זמינות"})]})}),e.jsx(u,{padding:"md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-teal-600 mb-1",children:Math.round(Le)}),e.jsx("div",{className:"text-xs text-gray-600",children:"שעות זמינות"})]})})]}),e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600",children:i||o.instrument||o.role?e.jsxs("span",{children:["מציג ",S.length," מורים מתוך ",C,' סה"כ',_&&e.jsx("span",{className:"text-primary-600 font-medium",children:" (טען עוד לתוצאות נוספות)"})]}):e.jsxs("span",{children:["מציג ",d.length," מתוך ",C," מורים",_&&e.jsx("span",{className:"text-primary-600 font-medium",children:" (טען עוד לצפייה בנוספים)"})]})}),e.jsxs("div",{className:"flex items-center bg-gray-50 p-1 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("button",{onClick:()=>Q("table"),className:`relative px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ease-in-out flex items-center gap-2 ${h==="table"?"bg-white text-primary-700 shadow-sm border border-gray-200 ring-1 ring-primary-500/20":"text-gray-600 hover:text-gray-800 hover:bg-gray-100/50"}`,"aria-pressed":h==="table","aria-label":"תצוגת טבלה",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"טבלה"}),h==="table"&&e.jsx("div",{className:"absolute inset-0 rounded-md bg-gradient-to-r from-primary-500/5 to-primary-600/5 pointer-events-none"})]}),e.jsxs("button",{onClick:()=>Q("grid"),className:`relative px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ease-in-out flex items-center gap-2 ${h==="grid"?"bg-white text-primary-700 shadow-sm border border-gray-200 ring-1 ring-primary-500/20":"text-gray-600 hover:text-gray-800 hover:bg-gray-100/50"}`,"aria-pressed":h==="grid","aria-label":"תצוגת רשת",children:[e.jsx(Ve,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"רשת"}),h==="grid"&&e.jsx("div",{className:"absolute inset-0 rounded-md bg-gradient-to-r from-primary-500/5 to-primary-600/5 pointer-events-none"})]})]})]}),e.jsxs("div",{className:"relative",children:[k&&e.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(z,{className:"w-6 h-6 animate-spin mx-auto mb-2 text-primary-600"}),e.jsx("div",{className:"text-sm text-gray-600",children:"מחפש מורים..."})]})}),h==="table"?e.jsx(ze,{columns:Me,data:S,onRowClick:s=>{U(s.id)},rowClassName:"hover:bg-gray-50 cursor-pointer transition-colors"}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:S.map(s=>{const t={_id:s.id,personalInfo:{fullName:s.name,phone:s.phone,email:s.email},roles:s.roles||[],professionalInfo:{instrument:s.specialization,isActive:s.isActive},teaching:{studentIds:Array(s.studentCount).fill(""),schedule:[]},isActive:s.isActive};return e.jsx(ts,{teacher:t,showStudentCount:!0,showSchedule:!1,showContact:!1,onClick:()=>U(s.id),className:"h-full hover:shadow-lg transition-all duration-200 hover:scale-[1.02] hover:-translate-y-1"},s.id)})}),S.length===0&&!N&&!k&&e.jsx("div",{className:"text-center py-12 text-gray-500",children:"לא נמצאו מורים התואמים לחיפוש"})]}),_&&S.length>0&&!N&&e.jsx("div",{className:"flex justify-center mt-8 mb-6",children:e.jsx("button",{onClick:Se,disabled:W,className:"flex items-center gap-2 px-6 py-3 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:W?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"טוען עוד מורים..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-5 h-5"}),e.jsx("span",{children:"טען עוד מורים"})]})})}),e.jsx(Qe,{isOpen:ue,onClose:()=>{H(!1),O(null),Y("add")},onTeacherAdded:Te,teacherToEdit:ge,mode:pe}),e.jsx(es,{isOpen:fe,title:"מחיקת מורה",message:R?`האם אתה בטוח שברצונך למחוק את המורה ${R.name}? פעולה זו היא בלתי הפיכה.`:"",confirmText:"מחק",cancelText:"ביטול",onConfirm:be,onCancel:Ne,variant:"danger"})]})}export{gs as default};
